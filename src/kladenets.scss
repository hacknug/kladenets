:root {

  // Utilities
  $color-lightness-iterator: (
    0: 0%,
    3: 3%,
    5: 5%,
    7: 7%,
    10: 10%,
    15: 15%,
    20: 20%,
    30: 30%,
    40: 40%,
    50: 50%,
    60: 60%,
    70: 70%,
    80: 80%,
    90: 90%,
    100: 100%,
  ) !default;

  $color-lightness-pretty-iterator: (
    lightest: 20,
    lighter: 40,
    light: 60,
    dark: 30,
    darker: 40,
    darkest: 50,
  ) !default;

  $color-alpha-iterator: (
    0: 0,
    3: .03,
    5: .05,
    7: .07,
    10: .1,
    15: .15,
    20: .2,
    25: .25,
    30: .3,
    35: .35,
    40: .4,
    45: .45,
    50: .5,
    55: .55,
    60: .6,
    65: .65,
    70: .7,
    75: .75,
    80: .8,
    85: .85,
    90: .9,
    95: .95,
    100: 1,
  ) !default;

  @mixin namespace-loop($namespace, $object) {
    @each $k, $v in $object {
      --#{$namespace}-#{$k}: #{$v};
    }
  }

  @mixin color-loop($namespace, $object) {
    @include namespace-loop($namespace, $object);

    --#{$namespace}-hsl: var(--#{$namespace}-h), var(--#{$namespace}-s), var(--#{$namespace}-l);
    --#{$namespace}: hsl(var(--#{$namespace}-hsl));

    @each $k, $v in $color-alpha-iterator {
      --#{$namespace}-#{$k}: hsla(var(--#{$namespace}-hsl), #{$v});
    }

    @each $k, $v in $color-lightness-iterator {
      --#{$namespace}-l-#{$k}: hsl(var(--#{$namespace}-h), var(--#{$namespace}-s), calc(var(--#{$namespace}-l) * #{$v}));
    }

    @each $k, $v in $color-lightness-pretty-iterator {
      --#{$namespace}-#{$k}: var(--#{$namespace}-l-#{$v});
    }
  }

  /*
    Typography
  ----------------------------------------------------------------------------*/
  --fontstack-prefix: -apple-system, BlinkMacSystemFont,;
  --fontstack-sans-serif: "Helvetica Neue", Arial, sans-serif;
  --fontstack-serif: Georgia, serif;
  --fontstack-monospace: Menlo, Consolas, monospace;
  --fontstack-default: var(--fontstack-prefix) var(--fontstack-sans-serif);
  --font-size-base: 1rem;
  --font-size-factor: 1vw;
  --font-size: calc(var(--font-size-base) + var(--font-size-factor));
  --font-features: "halt", "cv01", "cv02", "cv03";
  --line-height: calc(20 / 14);

  /*
    Layout
  ----------------------------------------------------------------------------*/
  $kld-breakpoints: (
    xs: 400px,
    sm: 640px,
    md: 1080px,
    lg: 1600px,
  ) !default;
  @include namespace-loop(breakpoint, $kld-breakpoints);

  $kld-space: (
    xs: 1.2vw,
    sm: 4vw,
    md: 8vw,
    lg: 24vw,
  ) !default;
  @include namespace-loop(space, $kld-space);

  $kld-border: (
    xs: .5px,
    sm: 1px,
    md: 2px,
    lg: 4px,
  ) !default;
  @include namespace-loop(border, $kld-border);

  /* Nav */
  --nav-padding: 1.4vmax;
  --nav-item-space: 1vmax;

  /*
    Colors
  ----------------------------------------------------------------------------*/

  /* Color - blue */
  $kld-blue: (
    h: 211,
    s: 100%,
    l: 50%,
  ) !default;
  @include color-loop("blue", $kld-blue);

  // --blue-light: hsl(var(--blue-h), var(--blue-s), calc(var(--blue-l) / .9));
  // --blue-dark: hsl(var(--blue-h), var(--blue-s), calc(var(--blue-l) * .9));

  /* Color - indigo */
  $kld-indigo: (
    h: 263,
    s: 90%,
    l: 51%,
  ) !default;
  @include color-loop("indigo", $kld-indigo);

  /* Color - purple */
  $kld-purple: (
    h: 271,
    s: 70%,
    l: 60%,
  ) !default;
  @include color-loop("purple", $kld-purple);

  /* Color - pink */
  $kld-pink: (
    h: 330,
    s: 70%,
    l: 63%,
  ) !default;
  @include color-loop("pink", $kld-pink);

  /* Color - red */
  $kld-red: (
    h: 349,
    s: 83%,
    l: 55%,
  ) !default;
  @include color-loop("red", $kld-red);

  /* Color - orange */
  $kld-orange: (
    h: 27,
    s: 98%,
    l: 54%,
  ) !default;
  @include color-loop("orange", $kld-orange);

  /* Color - yellow */
  $kld-yellow: (
    h: 50,
    s: 100%,
    l: 60%,
  ) !default;
  @include color-loop("yellow", $kld-yellow);

  /* Color - green */
  $kld-green: (
    h: 145,
    s: 60%,
    l: 60%,
  ) !default;
  @include color-loop("green", $kld-green);

  /* Color - teal */
  $kld-teal: (
    h: 170,
    s: 70%,
    l: 55%,
  ) !default;
  @include color-loop("teal", $kld-teal);

  /* Color - cyan */
  $kld-cyan: (
    h: 180,
    s: 80%,
    l: 60%,
  ) !default;
  @include color-loop("cyan", $kld-cyan);

  /* Color - text color */
  $kld-text-color: (
    h: 238,
    s: 71%,
    l: 11%,
  ) !default;
  @include color-loop("text-color", $kld-text-color);

  /* Color - link color */
  $kld-link-color: (
    h: var(--blue-h),
    s: var(--blue-s),
    l: var(--blue-l),
  ) !default;
  @include color-loop("link-color", $kld-link-color);

  /* Color - background color */
  $kld-bg-color: (
    h: 0,
    s: 0%,
    l: 100%,
  ) !default;
  @include color-loop("bg-color", $kld-bg-color);

  /* Color - code color, an inverted demo from link-color */
  $kld-code-color: (
    h: calc(var(--link-color-h) + 180),
    s: var(--link-color-s),
    l: var(--link-color-l),
  ) !default;
  @include color-loop("code-color", $kld-code-color);

  /*
    Color variants/variable mappings (based on our main color scheme)
  ----------------------------------------------------------------------------*/
  --border-color: var(--text-color-10);
}
